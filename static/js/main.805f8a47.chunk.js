(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{18:function(e,t,n){e.exports={_nav:"Navigation__nav__3aHRI",_link:"Navigation__link__2zNLE",_activeLink:"Navigation__activeLink__JWFev"}},33:function(e,t,n){e.exports={inputNumber:"ContactsForm_inputNumber__3m95S"}},34:function(e,t,n){e.exports={form_section:"Section_form_section__3xxdJ",contacts_section:"Section_contacts_section__37zqk"}},79:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,u=n(0),s=n.n(u),l=n(22),f=n.n(l),b=n(4),d=n(1),j=function(){return Object(d.jsx)("div",{children:"Login form"})},p=n(13),h=n(6),m=n(7),O=m.a.form(r||(r=Object(h.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),x=m.a.label(c||(c=Object(h.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),g=m.a.button(a||(a=Object(h.a)(["\n  display: block;\n  font-size: 22px;\n"]))),v=n(32),y=n.n(v),w=n(5),N=Object(w.b)("newContact/create",(function(e){return e.preventDefault(),i=e.target.children[0].children[1],o=e.target.children[1].children[1],{payload:{newName:i.value.trim(),newNumber:o.value}}})),k=Object(w.b)("newContact/clear",(function(){return i&&(i.value=""),o&&(o.value=""),{payload:{newName:"",newNumber:""}}})),_=n(33),C=n.n(_);var L,z=function(){var e=Object(p.b)();return Object(d.jsxs)(O,{onSubmit:function(t){return e(N(t))},children:[Object(d.jsxs)(x,{children:[Object(d.jsx)("span",{children:"Name"}),Object(d.jsx)(y.a,{className:C.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(d.jsxs)(x,{children:[Object(d.jsx)("span",{children:"Number"}),Object(d.jsx)(y.a,{className:C.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(d.jsx)(g,{type:"submit",children:"Add contact"})]})},F=m.a.h2(L||(L=Object(h.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var S=function(e){var t=e.message;return Object(d.jsx)("div",{children:Object(d.jsx)(F,{children:t})})},A=Object(w.b)("filter/changeFilter",(function(e){return{payload:e.trim().toLowerCase()}})),E=n(9),J=n.n(E),Q=n(17),T=n(23),I=n.n(T),P=n(12);function R(){return q.apply(this,arguments)}function q(){return(q=Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/contacts").then((function(e){return e.data})).catch((function(e){throw"Network Error"===e.message?P.Notify.failure("Sorry. Server is not working. Please check the connection"):P.Notify.failure("".concat(e.name,". ").concat(e.message)),new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(Q.a)(J.a.mark((function e(t){var n,r,c,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newName,r=t.newNumber,e.next=3,I.a.post("/contacts",{name:n,number:r}).then((function(e){return P.Notify.info("Contact ".concat(n," was added successfully")),e})).catch((function(e){return P.Notify.failure("Oh, no! ".concat(e.message," Nothing was added.")),null}));case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return H.apply(this,arguments)}function H(){return(H=Object(Q.a)(J.a.mark((function e(t,n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.delete("/contacts/"+t).then((function(e){return P.Notify.success("Contact ".concat(n," was removed successfully")),!0})).catch((function(e){return P.Notify.failure("Oh, no! ".concat(e.message," Nothing was deleted.")),!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I.a.defaults.baseURL="http://localhost:4321";var K,M,W,U,X,Y=Object(w.c)("contacts/fetchContacts",Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),$=Object(w.c)("contacts/createContact",function(){var e=Object(Q.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(w.c)("contacts/deleteContact",function(){var e=Object(Q.a)(J.a.mark((function e(t){var n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.name,e.next=3,Z(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=m.a.ul(K||(K=Object(h.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),ee=m.a.input(M||(M=Object(h.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  height: 26px;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n    height: 28px;\n  }\n"]))),te=m.a.li(W||(W=Object(h.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),ne=m.a.span(U||(U=Object(h.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),re=m.a.button(X||(X=Object(h.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"]))),ce=n(27);var ae=function(e){return e?e.split(" ").join("").toLowerCase().trim():e};var ie=function(e,t){var n=!1,r=ae(e);return""===r&&(n=!0),t.forEach((function(e){var t=e.name;r===ae(t)&&(n=!0)})),n};var oe=function(e){return e?e.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):e};var ue=function(e,t){var n=oe(e),r=!1;return""===e&&(r=!0),t.forEach((function(e){var t=e.number;n===oe(t)&&(r=!0)})),r};var se=function(e){var t=[],n=[];return e.forEach((function(e){t.indexOf(e.id)<0&&(t.push(e.id),n.push(e))})),n};var le=function(e){var t="",n="";if(e)if(e.match(/\d+/)){console.log("filterQuery -- ",e),n=e.match(/\d+/).toString();var r=e.split(n),c=r[0]||r[1];t=c||""}else t=e;return{filterQueryText:t,filterQueryNumber:n}},fe=function(e){var t=de(e),n=pe(e),r=Object(ce.a)([function(){return de(e)},function(){return pe(e)}],(function(e,t){console.log(e);var n=le(t.toString()),r=n.filterQueryText,c=n.filterQueryNumber;if(r.length>0||c.length>0){var a=[];if(c.length>0){if(a=e.filter((function(e){var t=e.number;return oe(t).includes(c)})),r.length>0){var i=e.filter((function(e){return e.name.toLowerCase().includes(r)}));return a.length>0?a.concat(i):i}return a}return a=e.filter((function(e){return e.name.toLowerCase().includes(r)}))}return e}));return r(t,n)},be=function(e){return e.contacts},de=function(e){return be(e).entities},je=function(e){return be(e).error},pe=function(e){return e.filter},he=function(e){return e.newContact},me=function(e){var t=de(e),n=pe(e);if(!t||!t.length)return[];if(!n)return t;var r=fe(e);return se(r)};var Oe,xe,ge=function(){var e=Object(p.c)(be).entities,t=Object(p.c)(me),n=Object(p.c)(je),r=e.length?"No contacts found.":n?n.message+". Contacts could not be loaded to be displayed on the screen.":"You have no contacts yet.",c=Object(p.b)();return Object(d.jsxs)(u.Fragment,{children:[Object(d.jsxs)(V,{children:[Object(d.jsx)(ee,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:function(e){return c(A(e.target.value))}}),t.length>0&&t.map((function(e){var t=e.id,n=e.name,r=e.number;return Object(d.jsxs)(te,{children:["\u260e "+n+": ",Object(d.jsxs)(ne,{children:[r,Object(d.jsx)(re,{id:t,onClick:function(){return c(G({id:t,name:n}))},children:"X"})]})]},t)}))]}),!t.length&&Object(d.jsx)(S,{message:r})]})},ve=m.a.section(Oe||(Oe=Object(h.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),ye=m.a.h1(xe||(xe=Object(h.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"]))),we=n(34),Ne=n.n(we);P.Notify.init({position:"center-top"});var ke=function(e){var t=e.title,n=e.component,r="Form"===n?Ne.a.form_section:Ne.a.contacts_section;return Object(d.jsxs)(ve,{className:r,children:[Object(d.jsx)(ye,{children:t}),"Form"===n&&Object(d.jsx)(z,{}),"Contacts"===n&&Object(d.jsx)(ge,{})]})};var _e=function(e,t){var n=function(e,t){var n=e.newName,r=e.newNumber,c="";if(!n||!r||!t)return{result:!1,message:c};if(ue(r,t))return{result:!1,message:c="Can't do this operation. Number ".concat(r," already exists.")};if(ie(n,t))return{result:!1,message:c="Can't do this operation. Name ".concat(n," already exists.")};return{result:!0,message:c="Well Done! Added "+n}}(e,t);return!!n.result||(n.message&&P.Notify.failure(n.message),!1)};P.Notify.init({position:"center-top"});var Ce=function(){var e=Object(p.c)(he),t=Object(p.c)(de),n=Object(p.b)();return Object(u.useEffect)((function(){n(Y())}),[n]),Object(u.useEffect)((function(){e.newName&&_e(e,t)&&(n($(e)),n(k()))}),[t,n,e]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ke,{title:"Phonebook",component:"Form"}),Object(d.jsx)("hr",{}),Object(d.jsx)(ke,{title:"Contacts",component:"Contacts"})]})},Le=function(){return Object(d.jsx)("div",{children:"Register form"})};var ze=function(){return Object(d.jsx)("h1",{children:"404 No such page :("})},Fe=n(21),Se=n(18),Ae=n.n(Se);var Ee=function(){var e=Object(b.f)();return Object(d.jsxs)("nav",{className:Ae.a._nav,children:[Object(d.jsx)(Fe.b,{exact:!0,to:"/",className:Ae.a._link,activeClassName:Ae.a._activeLink,children:"Home"}),Object(d.jsx)(Fe.b,{to:{pathname:"/register",state:{pathback:e}},className:Ae.a._link,activeClassName:Ae.a._activeLink,children:"Register"}),Object(d.jsx)(Fe.b,{to:{pathname:"/login",state:{pathback:e}},className:Ae.a._link,activeClassName:Ae.a._activeLink,children:"Login"})]})};var Je,Qe,Te,Ie,Pe=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)(Ee,{})}),Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{path:"/",exact:!0,children:Object(d.jsx)(Ce,{})}),Object(d.jsx)(b.a,{path:"/login",children:Object(d.jsx)(j,{})}),Object(d.jsx)(b.a,{path:"/register",children:Object(d.jsx)(Le,{})}),Object(d.jsx)(b.a,{path:"/",children:Object(d.jsx)(ze,{})})]})]})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},qe=n(28),Be=n(16),De=n(45),Ze=n.n(De),He=n(3),Ke=Object(w.d)("",Object(He.a)({},A.type,(function(e,t){return t.payload}))),Me=Object(w.d)({newName:"",newNumber:""},(Je={},Object(He.a)(Je,N,(function(e,t){return t.payload})),Object(He.a)(Je,k,(function(e,t){return t.payload})),Je)),We=Object(w.d)([],(Qe={},Object(He.a)(Qe,$.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(qe.a)(e),[n])})),Object(He.a)(Qe,G.fulfilled,(function(e,t){var n=t.meta.arg;return e.filter((function(e){return e.id!==n.id}))})),Object(He.a)(Qe,Y.fulfilled,(function(e,t){var n=t.payload;return e.length===n.length?e:n})),Qe)),Ue=Object(w.d)(!1,(Te={},Object(He.a)(Te,Y.pending,(function(){return!0})),Object(He.a)(Te,Y.fulfilled,(function(){return!1})),Object(He.a)(Te,Y.rejected,(function(){return!1})),Object(He.a)(Te,$.pending,(function(){return!0})),Object(He.a)(Te,$.fulfilled,(function(){return!1})),Object(He.a)(Te,$.rejected,(function(){return!1})),Object(He.a)(Te,G.pending,(function(){return!0})),Object(He.a)(Te,G.fulfilled,(function(){return!1})),Object(He.a)(Te,G.rejected,(function(){return!1})),Te)),Xe=Object(w.d)(null,(Ie={},Object(He.a)(Ie,Y.rejected,(function(e,t){return t.error})),Object(He.a)(Ie,Y.pending,(function(){return null})),Object(He.a)(Ie,$.rejected,(function(e,t){return t.error})),Object(He.a)(Ie,$.pending,(function(){return null})),Object(He.a)(Ie,G.rejected,(function(e,t){return t.error})),Object(He.a)(Ie,G.pending,(function(){return null})),Ie)),Ye=[].concat(Object(qe.a)(Object(w.e)({})),[Ze.a]),$e=Object(Be.b)({contacts:Object(Be.b)({isLoading:Ue,entities:We,error:Xe}),filter:Ke,newContact:Me}),Ge=Object(w.a)({reducer:$e,middleware:Ye,devTools:!1});f.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(p.a,{store:Ge,children:Object(d.jsx)(Fe.a,{children:Object(d.jsx)(Pe,{})})})}),document.getElementById("root")),Re()}},[[79,1,2]]]);
//# sourceMappingURL=main.805f8a47.chunk.js.map